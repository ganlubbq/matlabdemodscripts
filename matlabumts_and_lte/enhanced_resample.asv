function [outdata outstate] = enhanced_resample(indata, P, Q, instate)

    [discard filter] = resample(
    upsamp = upsample(indata, P);
    filtered = filter(B,A,
    
end
